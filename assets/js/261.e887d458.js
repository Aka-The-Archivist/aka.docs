(self.webpackChunkaka_docs=self.webpackChunkaka_docs||[]).push([[261],{7992:(e,t,n)=>{const r=n(7294);const o=r.forwardRef((function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"}))}));e.exports=o},5261:(e,t,n)=>{const r=n(7294);const o=r.forwardRef((function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z"}))}));e.exports=o},5237:(e,t,n)=>{const r=n(7294);const o=r.forwardRef((function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M10.75 6.75a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z"}))}));e.exports=o},689:(e,t,n)=>{"use strict";n.d(t,{p:()=>Z});var r=n(7294);function o(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,o),r}function a(...e){return e.filter(Boolean).join(" ")}var i,l=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(l||{}),s=((i=s||{})[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i);function u({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:i=!0,name:l}){let s=d(t,e);if(i)return c(s,n,r,l);let u=null!=a?a:0;if(2&u){let{static:e=!1,...t}=s;if(e)return c(t,n,r,l)}if(1&u){let{unmount:e=!0,...t}=s;return o(e?0:1,{0:()=>null,1:()=>c({...t,hidden:!0,style:{display:"none"}},n,r,l)})}return c(s,n,r,l)}function c(e,t={},n,o){let{as:i=n,children:l,refName:s="ref",...u}=g(e,["unmount","static"]),c=void 0!==e.ref?{[s]:e.ref}:{},f="function"==typeof l?l(t):l;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t));let m={};if(t){let e=!1,n=[];for(let[r,o]of Object.entries(t))"boolean"==typeof o&&(e=!0),!0===o&&n.push(r);e&&(m["data-headlessui-state"]=n.join(" "))}if(i===r.Fragment&&Object.keys(p(u)).length>0){if(!(0,r.isValidElement)(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=f.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>a(null==e?void 0:e.className(...t),u.className):a(null==e?void 0:e.className,u.className),n=t?{className:t}:{};return(0,r.cloneElement)(f,Object.assign({},d(f.props,p(g(u,["ref"]))),m,c,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}}(f.ref,c.ref),n))}return(0,r.createElement)(i,Object.assign({},g(u,["ref"]),i!==r.Fragment&&c,i!==r.Fragment&&m),f)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let r in n)Object.assign(t,{[r](e,...t){let o=n[r];for(let n of o){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;n(e,...t)}}});return t}function f(e){var t;return Object.assign((0,r.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function g(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}var m=Object.defineProperty,h=(e,t,n)=>(((e,t,n)=>{t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let v=new class{constructor(){h(this,"current",this.detect()),h(this,"handoffState","pending"),h(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},y=(e,t)=>{v.isServer?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)};let w=function(e){let t=function(e){let t=(0,r.useRef)(e);return y((()=>{t.current=e}),[e]),t}(e);return r.useCallback(((...e)=>t.current(...e)),[t])},b=Symbol();function E(e,t=!0){return Object.assign(e,{[b]:t})}function S(...e){let t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);let n=w((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[b])))?void 0:n}var O;let k=null!=(O=r.useId)?O:function(){let e=function(){let[e,t]=(0,r.useState)(v.isHandoffComplete);return e&&!1===v.isHandoffComplete&&t(!1),(0,r.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,r.useEffect)((()=>v.handoff()),[]),e}(),[t,n]=r.useState(e?()=>v.nextId():null);return y((()=>{null===t&&n(v.nextId())}),[t]),null!=t?""+t:void 0};var P=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(P||{});function R(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}let C=(0,r.createContext)(null);C.displayName="OpenClosedContext";var I,D=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(D||{});function T(){return(0,r.useContext)(C)}function L({value:e,children:t}){return r.createElement(C.Provider,{value:e},t)}function x(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function _(e,t){let[n,o]=(0,r.useState)((()=>x(e)));return y((()=>{o(x(e))}),[e.type,e.as]),y((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[n,t]),n}function j(e){return v.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let N=null!=(I=r.startTransition)?I:function(e){e()};var M=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(M||{}),A=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(A||{});let V={0:e=>({...e,disclosureState:o(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},F=(0,r.createContext)(null);function H(e){let t=(0,r.useContext)(F);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,H),t}return t}F.displayName="DisclosureContext";let B=(0,r.createContext)(null);function $(e){let t=(0,r.useContext)(B);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return t}B.displayName="DisclosureAPIContext";let U=(0,r.createContext)(null);function W(e,t){return o(t.type,V,e,t)}U.displayName="DisclosurePanelContext";let q=r.Fragment;let z=l.RenderStrategy|l.Static;let K=f((function(e,t){let{defaultOpen:n=!1,...a}=e,i=(0,r.useRef)(null),l=S(t,E((e=>{i.current=e}),void 0===e.as||e.as===r.Fragment)),s=(0,r.useRef)(null),c=(0,r.useRef)(null),d=(0,r.useReducer)(W,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:c,panelRef:s,buttonId:null,panelId:null}),[{disclosureState:f,buttonId:p},g]=d,m=w((e=>{g({type:1});let t=j(i);if(!t||!p)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(p):t.getElementById(p);null==n||n.focus()})),h=(0,r.useMemo)((()=>({close:m})),[m]),v=(0,r.useMemo)((()=>({open:0===f,close:m})),[f,m]),y={ref:l};return r.createElement(F.Provider,{value:d},r.createElement(B.Provider,{value:h},r.createElement(L,{value:o(f,{0:D.Open,1:D.Closed})},u({ourProps:y,theirProps:a,slot:v,defaultTag:q,name:"Disclosure"}))))})),J=f((function(e,t){let n=k(),{id:o=`headlessui-disclosure-button-${n}`,...a}=e,[i,l]=H("Disclosure.Button"),s=(0,r.useContext)(U),c=null!==s&&s===i.panelId,d=(0,r.useRef)(null),f=S(d,t,c?null:i.buttonRef);(0,r.useEffect)((()=>{if(!c)return l({type:2,buttonId:o}),()=>{l({type:2,buttonId:null})}}),[o,l,c]);let p=w((e=>{var t;if(c){if(1===i.disclosureState)return;switch(e.key){case P.Space:case P.Enter:e.preventDefault(),e.stopPropagation(),l({type:0}),null==(t=i.buttonRef.current)||t.focus()}}else switch(e.key){case P.Space:case P.Enter:e.preventDefault(),e.stopPropagation(),l({type:0})}})),g=w((e=>{if(e.key===P.Space)e.preventDefault()})),m=w((t=>{var n;R(t.currentTarget)||e.disabled||(c?(l({type:0}),null==(n=i.buttonRef.current)||n.focus()):l({type:0}))})),h=(0,r.useMemo)((()=>({open:0===i.disclosureState})),[i]),v=_(e,d);return u({ourProps:c?{ref:f,type:v,onKeyDown:p,onClick:m}:{ref:f,id:o,type:v,"aria-expanded":e.disabled?void 0:0===i.disclosureState,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:p,onKeyUp:g,onClick:m},theirProps:a,slot:h,defaultTag:"button",name:"Disclosure.Button"})})),Y=f((function(e,t){let n=k(),{id:o=`headlessui-disclosure-panel-${n}`,...a}=e,[i,l]=H("Disclosure.Panel"),{close:s}=$("Disclosure.Panel"),c=S(t,i.panelRef,(e=>{N((()=>l({type:e?4:5})))}));(0,r.useEffect)((()=>(l({type:3,panelId:o}),()=>{l({type:3,panelId:null})})),[o,l]);let d=T(),f=null!==d?(d&D.Open)===D.Open:0===i.disclosureState,p=(0,r.useMemo)((()=>({open:0===i.disclosureState,close:s})),[i,s]),g={ref:c,id:o};return r.createElement(U.Provider,{value:i.panelId},u({ourProps:g,theirProps:a,slot:p,defaultTag:"div",features:z,visible:f,name:"Disclosure.Panel"}))})),Z=Object.assign(K,{Button:J,Panel:Y})},9734:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q});var r=n(7294),o=n(1688);const a=new WeakMap,i={},l={},s=()=>{},u=s(),c=Object,d=e=>e===u,f=e=>"function"==typeof e,p=(e,t)=>({...e,...t}),g="undefined",m=typeof window!=g,h=typeof document!=g,v=(e,t)=>{const n=a.get(e);return[()=>!d(t)&&e.get(t)||i,r=>{if(!d(t)){const o=e.get(t);t in l||(l[t]=o),n[5](t,p(o,r),o||i)}},n[6],()=>!d(t)&&t in l?l[t]:!d(t)&&e.get(t)||i]},y=new WeakMap;let w=0;const b=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,a;if(c(e)!==e||r||n==RegExp)o=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=y.get(e),o)return o;if(o=++w+"~",y.set(e,o),n==Array){for(o="@",a=0;a<e.length;a++)o+=b(e[a])+",";y.set(e,o)}if(n==c){o="#";const t=c.keys(e).sort();for(;!d(a=t.pop());)d(e[a])||(o+=a+":"+b(e[a])+",");y.set(e,o)}}return o};let E=!0;const[S,O]=m&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[s,s],k={isOnline:()=>E,isVisible:()=>{const e=h&&document.visibilityState;return d(e)||"hidden"!==e}},P={initFocus:e=>(h&&document.addEventListener("visibilitychange",e),S("focus",e),()=>{h&&document.removeEventListener("visibilitychange",e),O("focus",e)}),initReconnect:e=>{const t=()=>{E=!0,e()},n=()=>{E=!1};return S("online",t),S("offline",n),()=>{O("online",t),O("offline",n)}}},R=!r.useId,C=!m||"Deno"in window,I=e=>m&&typeof window.requestAnimationFrame!=g?window.requestAnimationFrame(e):setTimeout(e,1),D=C?r.useEffect:r.useLayoutEffect,T="undefined"!=typeof navigator&&navigator.connection,L=!C&&T&&(["slow-2g","2g"].includes(T.effectiveType)||T.saveData),x=e=>{if(f(e))try{e=e()}catch(n){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?b(e):"",t]};let _=0;const j=()=>++_;var N=3,M=0,A=2,V=1;async function F(...e){const[t,n,r,o]=e,i=p({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let l=i.populateCache;const s=i.rollbackOnError;let c=i.optimisticData;const g=!1!==i.revalidate,m=i.throwOnError;if(f(n)){const e=n,r=[],o=t.keys();for(let n=o.next();!n.done;n=o.next()){const o=n.value;!/^\$(inf|sub)\$/.test(o)&&e(t.get(o)._k)&&r.push(o)}return Promise.all(r.map(h))}return h(n);async function h(n){const[o]=x(n);if(!o)return;const[i,p]=v(t,o),[h,y,w]=a.get(t),b=h[o],E=()=>g&&(delete w[o],b&&b[0])?b[0](2).then((()=>i().data)):i().data;if(e.length<3)return E();let S,O=r;const k=j();y[o]=[k,0];const P=!d(c),R=i(),C=R.data,I=R._c,D=d(I)?C:I;if(P&&(c=f(c)?c(D):c,p({data:c,_c:D})),f(O))try{O=O(D)}catch(L){S=L}if(O&&f(O.then)){if(O=await O.catch((e=>{S=e})),k!==y[o][0]){if(S)throw S;return O}S&&P&&(e=>"function"==typeof s?s(e):!1!==s)(S)&&(l=!0,O=D,p({data:O,_c:u}))}l&&(S||(f(l)&&(O=l(O,D)),p({data:O,_c:u}))),y[o][1]=j();const T=await E();if(p({_c:u}),!S)return l?T:O;if(m)throw S}}const H=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},B=(e,t)=>{if(!a.has(e)){const n=p(P,t),r={},o=F.bind(u,e);let i=s;const l={},c=(e,t)=>{const n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},d=(t,n,r)=>{e.set(t,n);const o=l[t];if(o)for(const e of o)e(n,r)},f=()=>{if(!a.has(e)&&(a.set(e,[r,{},{},{},o,d,c]),!C)){const t=n.initFocus(setTimeout.bind(u,H.bind(u,r,0))),o=n.initReconnect(setTimeout.bind(u,H.bind(u,r,1)));i=()=>{t&&t(),o&&o(),a.delete(e)}}};return f(),[e,o,f,i]}return[e,a.get(e)[4]]},[$,U]=B(new Map),W=p({onLoadingSlow:s,onSuccess:s,onError:s,onErrorRetry:(e,t,n,r,o)=>{const a=n.errorRetryCount,i=o.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!d(a)&&i>a||setTimeout(r,l,o)},onDiscarded:s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:(e,t)=>b(e)==b(t),isPaused:()=>!1,cache:$,mutate:U,fallback:{}},k),q=(e,t)=>{const n=p(e,t);if(t){const{use:r,fallback:o}=e,{use:a,fallback:i}=t;r&&a&&(n.use=r.concat(a)),o&&i&&(n.fallback=p(o,i))}return n},z=(0,r.createContext)({}),K=m&&window.__SWR_DEVTOOLS_USE__,J=K?window.__SWR_DEVTOOLS_USE__:[],Y=e=>f(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Z=J.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=x(t),[,,,o]=a.get($),i=o[r];return i?(delete o[r],i):n(...e)}),r)));K&&(window.__SWR_DEVTOOLS_REACT__=r);const G={dedupe:!0},Q=(c.defineProperty((e=>{const{value:t}=e,n=(0,r.useContext)(z),o=f(t),a=(0,r.useMemo)((()=>o?t(n):t),[o,n,t]),i=(0,r.useMemo)((()=>o?a:q(n,a)),[o,n,a]),l=a&&a.provider,s=(0,r.useRef)(u);l&&!s.current&&(s.current=B(l(i.cache||$),a));const c=s.current;return c&&(i.cache=c[0],i.mutate=c[1]),D((()=>{if(c)return c[2]&&c[2](),c[3]}),[]),(0,r.createElement)(z.Provider,p(e,{value:i}))}),"defaultValue",{value:W}),X=(e,t,n)=>{const{cache:i,compare:l,suspense:s,fallbackData:c,revalidateOnMount:g,revalidateIfStale:m,refreshInterval:h,refreshWhenHidden:y,refreshWhenOffline:w,keepPreviousData:b}=n,[E,S,O]=a.get(i),[k,P]=x(e),T=(0,r.useRef)(!1),L=(0,r.useRef)(!1),_=(0,r.useRef)(k),H=(0,r.useRef)(t),B=(0,r.useRef)(n),$=()=>B.current,U=()=>$().isVisible()&&$().isOnline(),[W,q,z,K]=v(i,k),J=(0,r.useRef)({}).current,Y=d(c)?n.fallback[k]:c,Z=(e,t)=>{for(const n in J){const r=n;if("data"===r){if(!l(e[r],t[r])){if(!d(e[r]))return!1;if(!l(ie,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},Q=(0,r.useMemo)((()=>{const e=!!k&&!!t&&(d(g)?!$().isPaused()&&!s&&(!!d(m)||m):g),n=t=>{const n=p(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=W(),o=K(),a=n(r),i=r===o?a:n(o);let l=a;return[()=>{const e=n(W());return Z(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>i]}),[i,k]),X=(0,o.useSyncExternalStore)((0,r.useCallback)((e=>z(k,((t,n)=>{Z(n,t)||e()}))),[i,k]),Q[0],Q[1]),ee=!T.current,te=E[k]&&E[k].length>0,ne=X.data,re=d(ne)?Y:ne,oe=X.error,ae=(0,r.useRef)(re),ie=b?d(ne)?ae.current:ne:re,le=!(te&&!d(oe))&&(ee&&!d(g)?g:!$().isPaused()&&(s?!d(re)&&m:d(re)||m)),se=!!(k&&t&&ee&&le),ue=d(X.isValidating)?se:X.isValidating,ce=d(X.isLoading)?se:X.isLoading,de=(0,r.useCallback)((async e=>{const t=H.current;if(!k||!t||L.current||$().isPaused())return!1;let r,o,a=!0;const i=e||{},s=!O[k]||!i.dedupe,c=()=>R?!L.current&&k===_.current&&T.current:k===_.current,p={isValidating:!1,isLoading:!1},g=()=>{q(p)},m=()=>{const e=O[k];e&&e[1]===o&&delete O[k]},h={isValidating:!0};d(W().data)&&(h.isLoading=!0);try{if(s&&(q(h),n.loadingTimeout&&d(W().data)&&setTimeout((()=>{a&&c()&&$().onLoadingSlow(k,n)}),n.loadingTimeout),O[k]=[t(P),j()]),[r,o]=O[k],r=await r,s&&setTimeout(m,n.dedupingInterval),!O[k]||O[k][1]!==o)return s&&c()&&$().onDiscarded(k),!1;p.error=u;const e=S[k];if(!d(e)&&(o<=e[0]||o<=e[1]||0===e[1]))return g(),s&&c()&&$().onDiscarded(k),!1;const i=W().data;p.data=l(i,r)?i:r,s&&c()&&$().onSuccess(r,k,n)}catch(v){m();const e=$(),{shouldRetryOnError:t}=e;e.isPaused()||(p.error=v,s&&c()&&(e.onError(v,k,e),(!0===t||f(t)&&t(v))&&U()&&e.onErrorRetry(v,k,e,(e=>{const t=E[k];t&&t[0]&&t[0](N,e)}),{retryCount:(i.retryCount||0)+1,dedupe:!0})))}return a=!1,g(),!0}),[k,i]),fe=(0,r.useCallback)(((...e)=>F(i,_.current,...e)),[]);if(D((()=>{H.current=t,B.current=n,d(ne)||(ae.current=ne)})),D((()=>{if(!k)return;const e=de.bind(u,G);let t=0;const n=((e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(k,E,((n,r={})=>{if(n==M){const n=Date.now();$().revalidateOnFocus&&n>t&&U()&&(t=n+$().focusThrottleInterval,e())}else if(n==V)$().revalidateOnReconnect&&U()&&e();else{if(n==A)return de();if(n==N)return de(r)}}));return L.current=!1,_.current=k,T.current=!0,q({_k:P}),le&&(d(re)||C?e():I(e)),()=>{L.current=!0,n()}}),[k]),D((()=>{let e;function t(){const t=f(h)?h(W().data):h;t&&-1!==e&&(e=setTimeout(n,t))}function n(){W().error||!y&&!$().isVisible()||!w&&!$().isOnline()?t():de(G).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[h,y,w,k]),(0,r.useDebugValue)(ie),s&&d(re)&&k){if(!R&&C)throw new Error("Fallback data is required when using suspense in SSR.");throw H.current=t,B.current=n,L.current=!1,d(oe)?de(G):oe}return{mutate:fe,get data(){return J.data=!0,ie},get error(){return J.error=!0,oe},get isValidating(){return J.isValidating=!0,ue},get isLoading(){return J.isLoading=!0,ce}}},function(...e){const t=p(W,(0,r.useContext)(z)),[n,o,a]=Y(e),i=q(t,a);let l=X;const{use:s}=i,u=(s||[]).concat(Z);for(let r=u.length;r--;)l=u[r](l);return l(n,o||i.fetcher||null,i)});var X}}]);